<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>T01 Introducción a la clase BBSLevel. Señal en una planta | Navindoor MATLAB Toolbox</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="La clase BBSLevel es un objeto capaz de generar la una señal sintética que depende de los puntos de acceso, dado una trayectoria y la planimetría del nivel por donde transcurre la trayectoria.  Variab">
<meta name="keywords" content="ejemplos">
<meta property="og:type" content="article">
<meta property="og:title" content="T01 Introducción a la clase BBSLevel. Señal en una planta">
<meta property="og:url" content="http://yoursite.com/CT03_S02_T01/index.html">
<meta property="og:site_name" content="Navindoor MATLAB Toolbox">
<meta property="og:description" content="La clase BBSLevel es un objeto capaz de generar la una señal sintética que depende de los puntos de acceso, dado una trayectoria y la planimetría del nivel por donde transcurre la trayectoria.  Variab">
<meta property="og:locale" content="es">
<meta property="og:image" content="http://yoursite.com/images/03-signals-simulation/02001.png">
<meta property="og:image" content="http://yoursite.com/images/03-signals-simulation/02002.png">
<meta property="og:image" content="http://yoursite.com/images/03-signals-simulation/02003.png">
<meta property="og:updated_time" content="2018-05-04T14:29:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="T01 Introducción a la clase BBSLevel. Señal en una planta">
<meta name="twitter:description" content="La clase BBSLevel es un objeto capaz de generar la una señal sintética que depende de los puntos de acceso, dado una trayectoria y la planimetría del nivel por donde transcurre la trayectoria.  Variab">
<meta name="twitter:image" content="http://yoursite.com/images/03-signals-simulation/02001.png">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Navindoor MATLAB Toolbox</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="https://github.com/joroya/navindoor">GitHub</a>
        
          <a class="main-nav-link" href="/">Download</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Buscar"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-CT03/S02/01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CT03_S02_T01/" class="article-date">
  <time datetime="2018-05-03T13:30:10.000Z" itemprop="datePublished">2018-05-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CT03-Simulacion-de-senales/">CT03 Simulación de señales</a>►<a class="article-category-link" href="/categories/CT03-Simulacion-de-senales/S02-Clase-BBSLevel/">S02 Clase BBSLevel</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      T01 Introducción a la clase BBSLevel. Señal en una planta
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>La clase <em>BBSLevel</em> es un objeto capaz de generar la una señal sintética que depende de los puntos de acceso, dado una trayectoria y la planimetría del nivel por donde transcurre la trayectoria. </p>
<h3 id="Variables-de-entrada"><a href="#Variables-de-entrada" class="headerlink" title="Variables de entrada"></a>Variables de entrada</h3><table>
<thead>
<tr>
<th>Variable de entrada</th>
<th>Obligatoria/ Opcional</th>
<th>Posibles Valores</th>
<th>clase</th>
<th>Por defecto</th>
</tr>
</thead>
<tbody>
<tr>
<td>itraj</td>
<td>Obligatoria</td>
<td>objeto clase traj</td>
<td>traj</td>
<td>-</td>
</tr>
<tr>
<td>ilevel</td>
<td>Obligatoria</td>
<td>objeto clase level</td>
<td>level</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Obligatoria</td>
<td>(RSS,ToF,AoA)</td>
<td>char</td>
<td>-</td>
</tr>
<tr>
<td>sgn_function</td>
<td>Opcional</td>
<td>objeto handle</td>
<td>function handle</td>
<td>(@RRS_dflt,@ToF_dflt,@AoA_dflt)</td>
</tr>
<tr>
<td>parameters_sgn</td>
<td>Opcional</td>
<td>lista de parametros</td>
<td>list</td>
<td>0.1</td>
</tr>
<tr>
<td>label</td>
<td>Opcional</td>
<td>nombre de la señal</td>
<td>char</td>
<td>‘label’</td>
</tr>
<tr>
<td>dt</td>
<td>Opcional</td>
<td>frecuencia de medida</td>
<td>double</td>
<td>0.1</td>
</tr>
</tbody>
</table>
<h1 id="Ejemplo-basico"><a href="#Ejemplo-basico" class="headerlink" title="Ejemplo básico"></a>Ejemplo básico</h1><p> Para un primer acercamiento a esta clase crearemos un objeto de manera simplificada. </p>
<h3 id="Preparacion-para-la-ejecucion-del-constructor-BBSLevel"><a href="#Preparacion-para-la-ejecucion-del-constructor-BBSLevel" class="headerlink" title="Preparación para la ejecucion del constructor BBSLevel"></a>Preparación para la ejecucion del constructor <em>BBSLevel</em></h3><p>Creamos una clase nivel<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">clf</span><br><span class="line">ilevel = level;</span><br><span class="line"><span class="comment">% generamos beacons aleatorios dentro del nivel</span></span><br><span class="line">beacons = arrayfun(@(x) <span class="built_in">rand</span>(ilevel,<span class="string">'beacon'</span>),<span class="number">1</span>:<span class="number">4</span>);</span><br><span class="line">ilevel.beacons = beacons; </span><br><span class="line"><span class="comment">% veamos como ha quedado</span></span><br><span class="line">plot(ilevel)</span><br></pre></td></tr></table></figure></p>
<p><img src="/images/03-signals-simulation/02001.png" alt="ilevel - level"></p>
<p>Creamos una trayectoria dentro de este nivel<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span>:<span class="number">0.1</span>:<span class="number">40</span>;</span><br><span class="line">y = x + <span class="number">5</span>*<span class="built_in">sin</span>(x);</span><br><span class="line">itraj = mat2traj([x<span class="string">' y'</span>]);</span><br><span class="line">hold on</span><br><span class="line">plot(itraj)</span><br></pre></td></tr></table></figure></p>
<p><img src="/images/03-signals-simulation/02002.png" alt="itraj - traj"></p>
<p>Es necesario generar la velocidad de esta trayectoria. Como en esta entrada la generación de la velocidad no es de especial interés, simplemente nos limitaremos a ejecutar lo siguiente:</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">itraj = velocity(itraj);</span><br><span class="line">itraj</span><br></pre></td></tr></table></figure>
<pre><code>itraj = 
      traj with properties:
               nodes: [1×301 vertex]
                  mt: [301×2 double]
            distance: 103.7669
              angles: [1×301 double]
             dangles: [1×301 double]
              slopes: [1×301 double]
             dslopes: [1×301 double]
                   x: [1×301 double]
                 len: 301
               label: &apos;traj&apos;
                   v: [1×301 double]
                   t: [1×301 double]
               level: 0
        has_velocity: 1
            equitime: 0
                  dt: 0
</code></pre><h3 id="Ejecucion-del-constructor-BBSLevel"><a href="#Ejecucion-del-constructor-BBSLevel" class="headerlink" title="Ejecucion del constructor BBSLevel"></a>Ejecucion del constructor <em>BBSLevel</em></h3><p>En este primer ejempo simularemos una señal tipo RSS, ejecutando el siguiente comando:<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RSS_signal = BBSLevel(itraj,ilevel,<span class="string">'RSS'</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>RSS_signal = 

  BBSLevel with properties:

              ms: [1×321 ms_node]
    sgn_function: @RSS_dflt
         beacons: [1×4 beacon]
           label: &apos;RSS Signal&apos;
            type: &apos;RSS&apos;
              dt: 0.1000
       NumMaxAps: 0
       direction: &apos;none&apos;
         orderby: &apos;none&apos;
             len: 321
</code></pre><p>Una vez creado este objeto, podemos extraer información con la función <em>step</em>. Esta función tiene como parámetro de entrada el objeto creado y el tiempo.<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">step(RSS_signal,<span class="number">0</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>ans =

    8.3469   14.9437   11.8792   11.0126
</code></pre><p>Estos valores son la atenuación de los <em>beacons</em> definidos en el nivel. Los valores siguen el orden que tiene los objetos <em>beacon</em> dentro de la estructura <em>ilevel</em><br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ilevel.beacons</span><br></pre></td></tr></table></figure></p>
<pre><code>ans = 
  1×4 beacon array with properties:

    frecuency
    r
    level
</code></pre><p>Donde sus posiciones son:<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ilevel.beacons.r</span><br></pre></td></tr></table></figure></p>
<pre><code>ans =
    3.1811    6.6351


ans =
   34.7830   27.2292


ans =
   24.3258    2.4464


ans =
   14.2220   18.8033
</code></pre><p>Podemos extraer una tabla con valores en cada instante de tiempo con la función<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tbl = signal2table(RSS_signal)</span><br></pre></td></tr></table></figure></p>
<pre><code>tbl =

  245×5 table

    time    beacon_001    beacon_002    beacon_003    beacon_004
    ____    __________    __________    __________    __________

       0    8.3469        14.944        11.879           11.013 
     0.1     8.446         14.93        11.823           11.036 
     0.2    8.5635        14.982        11.625           11.184 
     0.3    8.5478        15.108        11.679           11.184 
     0.4    8.7596        15.266        11.523           11.229 
     0.5    9.0369        15.013        11.355           11.271 
     0.6     8.999        14.866        11.451           11.127 
     0.7    9.3111        14.992        11.368           11.049 
     0.8    9.1135        15.074        11.457           10.851 
     ...
</code></pre><p>representando esta tabla:<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clf</span><br><span class="line">plot(tbl&#123;:,<span class="number">1</span>&#125;,tbl&#123;:,<span class="number">2</span>:<span class="number">5</span>&#125;)</span><br><span class="line">xlabel(<span class="string">'time'</span>)</span><br><span class="line">ylabel(<span class="string">'attenuation'</span>)</span><br><span class="line">legend(strcat(<span class="string">'beacon-'</span>,num2str((<span class="number">1</span>:<span class="number">4</span>)',<span class="string">'%0.2d'</span>)))</span><br></pre></td></tr></table></figure></p>
<p>Obtenemos la evolución temporal de la señal de los distintos <em>beacons</em><br><img src="/images/03-signals-simulation/02003.png" alt="Representación de tbl"></p>
<h1 id="Relacionados"><a href="#Relacionados" class="headerlink" title="Relacionados"></a>Relacionados</h1><hr>
<ul>
<li>BBSLevel/step </li>
<li>BeaconBasedSgn</li>
<li>signal2table</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/CT03_S02_T01/" data-id="cjgs25pxq000ge5s4tcg8da6b" class="article-share-link">Compartir</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ejemplos/">ejemplos</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/CT05_S01_T01/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nuevo</strong>
      <div class="article-nav-title">
        
          Comparación de métodos
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorías</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CT01-Planimetria/">CT01 Planimetría</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CT01-Planimetria/S01-Introduccion/">S01 Introducción</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT02-Simulacion-de-trayectorias/">CT02 Simulación de trayectorias</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CT02-Simulacion-de-trayectorias/S01-Introducion/">S01 Introdución</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT02-Simulacion-de-trayectorias/S02-Clase-traj/">S02 Clase traj</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT02-Simulacion-de-trayectorias/S03-Clase-supertraj/">S03 Clase supertraj</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/">CT03 Simulación de señales</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/S01-Introduccion/">S01 Introducción</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/S02-Clase-BBSLevel/">S02 Clase BBSLevel</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/S03-Clase-BFSLevel/">S03 Clase BFSLevel</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/S04-Clase-BeaconBasedSgn/">S04 Clase BeaconBasedSgn</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT03-Simulacion-de-senales/S05-Clase-BeaconFreeSgn/">S05 Clase BeaconFreeSgn</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT04-Procesamiento-de-senales/">CT04 Procesamiento de señales</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CT04-Procesamiento-de-senales/S01-Introduccion/">S01 Introducción</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CT05-Comparacion-de-metodos/">CT05 Comparación de métodos</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CT05-Comparacion-de-metodos/S01-Introduccion/">S01 Introducción</a></li></ul></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Jesus Oroya<br>
      Construido por <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="https://github.com/joroya/navindoor" class="mobile-nav-link">GitHub</a>
  
    <a href="/" class="mobile-nav-link">Download</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>